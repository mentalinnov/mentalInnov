import { CarReader } from '../lib/reader.js';
import {
  carBytes,
  assert
} from './common.js';
describe('Misc errors', () => {
  const buf = carBytes.slice();
  it('decode errors', async () => {
    const buf2 = new Uint8Array(buf.length);
    buf2.set(buf, 0);
    buf2[101] = 0;
    await assert.isRejected(CarReader.fromBytes(buf2), {
      name: 'Error',
      message: 'Unexpected CID version (0)'
    });
  });
});