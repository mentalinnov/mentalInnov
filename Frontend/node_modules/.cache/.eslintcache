[{"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/index.js":"1","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/App.js":"2","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/Signup.js":"3","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/Login.js":"4","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/PrivateRoute.js":"5","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/ForgotPassword.js":"6","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/Dashboard.js":"7","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/contexts/AuthContext.js":"8","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/firebase.js":"9","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/store.js":"10","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/actions/watson.js":"11","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/chat/Chat.js":"12","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/actions/types.js":"13","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/reducers/index.js":"14","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/reducers/watson.js":"15"},{"size":301,"mtime":1647850185698,"results":"16","hashOfConfig":"17"},{"size":1037,"mtime":1647850185697,"results":"18","hashOfConfig":"17"},{"size":3263,"mtime":1647850185698,"results":"19","hashOfConfig":"17"},{"size":2222,"mtime":1648007220724,"results":"20","hashOfConfig":"17"},{"size":412,"mtime":1647850185698,"results":"21","hashOfConfig":"17"},{"size":1655,"mtime":1647850185697,"results":"22","hashOfConfig":"17"},{"size":11001,"mtime":1648118903758,"results":"23","hashOfConfig":"17"},{"size":1280,"mtime":1647850185698,"results":"24","hashOfConfig":"17"},{"size":659,"mtime":1647850185698,"results":"25","hashOfConfig":"17"},{"size":390,"mtime":1647850185698,"results":"26","hashOfConfig":"17"},{"size":1103,"mtime":1647850185697,"results":"27","hashOfConfig":"17"},{"size":2588,"mtime":1648006959566,"results":"28","hashOfConfig":"17"},{"size":274,"mtime":1647850185697,"results":"29","hashOfConfig":"17"},{"size":117,"mtime":1647850185698,"results":"30","hashOfConfig":"17"},{"size":1064,"mtime":1647850185698,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"19mwdoq",{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"41","usedDeprecatedRules":"34"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"34"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"34"},"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/index.js",[],["66","67"],"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/App.js",[],"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/Signup.js",[],"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/Login.js",["68","69"],"import React, { useRef, useState } from \"react\"\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport store from \"../store\";\nimport { createSession } from \"../actions/watson\";\n\nexport default function Login() {\n  const emailRef = useRef()\n  const passwordRef = useRef()\n  const { login } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const history = useHistory()\n  var id = ''\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    try {\n      setError(\"\")\n      setLoading(true)\n      await login(emailRef.current.value, passwordRef.current.value)\n      store.dispatch(createSession());\n      history.push(\"/\")\n    } catch {\n      setError(\"Failed to log in\")\n    }\n\n    setLoading(false)\n  }\n\n  return (\n    <>\n      <h2 className=\"fixed-top text-center mb-4 mt-4\">Welcome to AI Mental Health Chatbot! </h2>\n      <p className=\"text-center\">Powered by Algorand</p>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Please log in to access</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              <Form.Label>Email</Form.Label>\n              <Form.Control type=\"email\" ref={emailRef} required />\n            </Form.Group>\n            <Form.Group id=\"password\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control type=\"password\" ref={passwordRef} required />\n            </Form.Group>\n            <Button disabled={loading} className=\"w-100 outline-primary\" type=\"submit\">\n              Log In\n            </Button>\n          </Form>\n          <div className=\"w-100 text-center mt-3\">\n            <Link to=\"/forgot-password\">Forgot Password?</Link>\n          </div>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-center mt-2\">\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\n      </div>\n      <div className=\"w-100 text-center mt-2\">\n        Back to <a href=\"https://aisenses.co\" className=\"link-success\" target=\"_blank\">Home</a>\n      </div>\n    </>\n  )\n}\n","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/PrivateRoute.js",[],"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/ForgotPassword.js",[],"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/Dashboard.js",["70","71","72","73","74"],"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/contexts/AuthContext.js",[],"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/firebase.js",[],"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/store.js",[],"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/actions/watson.js",[],"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/components/chat/Chat.js",["75","76","77","78","79","80"],"import React, { useState, useEffect, useRef } from \"react\";\nimport { Button } from \"react-bootstrap\"\nimport { connect } from \"react-redux\";\nimport { userMessage, sendMessage } from \"../../actions/watson\";\nimport { useAuth } from \"../../contexts/AuthContext\"\nimport { db } from \"../../firebase\";\nimport {\n  collection,\n  addDoc,\n  doc,\n  updateDoc\n} from \"firebase/firestore\";\n\nconst Chat = ({ chat, userMessage, sendMessage }) => {\n  // Handle Users Message\n  const [message, setMessage] = useState(\"\");\n  const endOfMessages = useRef(null);\n  const { currentUser } = useAuth();\n  let id = '';\n  let chatHistory = '';\n  let lastMessage = '';\n\n  // const scrollToBottom = () => {\n  //   endOfMessages.current.scrollIntoView({ behavior: \"smooth\" });\n  //   console.log(\"user: \", currentUser.email)\n  //   console.log(\"last chat: \", chat[chat.length - 1])\n  // };\n  // useEffect(scrollToBottom, [chat]);\n\n  //  Function that handles user submission\n  const handleClick = async (e, chat) => {\n    const code = e.keyCode || e.which;    \n    if (code === 13) {\n      userMessage(message);\n      sendMessage(message);\n      setMessage(\"\");\n    }\n  };\n\n  useEffect(() => {\n    const saveChatToDB = async () => {\n      const snapshot = await db.collection('accounts').where('email', '==', currentUser.email).get()\n      snapshot.forEach(doc => {\n        id = doc.id\n        chatHistory = doc.data().chatHistory\n      });\n      const userDoc = doc(db, \"accounts\", id);\n      if (chat[chat.length - 1]){\n        const newFields = { chatHistory: \n                            chatHistory + \"\\n\"\n                            + chat[chat.length - 1].type + \": \" + chat[chat.length - 1].message};\n        await updateDoc(userDoc, newFields);\n      }\n    };\n\n    const scrollToBottom = () => {\n      endOfMessages.current.scrollIntoView({ behavior: \"smooth\" });\n    };\n\n    saveChatToDB();\n    scrollToBottom();\n  }, [chat]);\n\n  return (\n    <div className=\"chat\">\n      <h1>Mental health chatbot</h1>\n\n      <div class=\"historyContainer\">\n        {chat.length === 0\n          ? \"\"\n          : chat.map((msg) => <div className={msg.type}>{msg.message}</div>)}\n        <div ref={endOfMessages}></div>\n\n      </div>\n\n      <input\n        id=\"chatBox\"\n        onChange={(e) => setMessage(e.target.value)}\n        onKeyPress={handleClick}\n        value={message}\n        placeholder=\"Please type your message here...\">\n      </input>      \n    </div>\n  );\n};\nconst mapStateToProps = (state) => ({\n  chat: state.watson.messages,\n});\n\nexport default connect(mapStateToProps, { userMessage, sendMessage })(Chat);\n","/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/actions/types.js",[],"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/reducers/index.js",[],"/Users/jackhui/WebstormProjects/mentalInnov/Frontend/src/reducers/watson.js",["81"],"import {\n  INPUT_SUCCESS,\n  INPUT_FAIL,\n  SESSION_SUCCESS,\n  SESSION_FAIL,\n  MESSAGE_SUCCESS,\n  MESSAGE_FAIL,\n} from \"../actions/types\";\n\nconst initialState = {\n  messages: [],\n};\n\n// State updates\nexport default (state = initialState, action) => {\n  const { type, payload } = action;\n  let { messages } = state;\n\n  switch (type) {\n    case INPUT_SUCCESS:\n      messages = [...messages, { message: payload, type: \"user\" }];\n      return {\n        ...state,\n        messages,\n      };\n    case INPUT_FAIL:\n      return {\n        ...state,\n      };\n    case SESSION_SUCCESS:\n      localStorage.removeItem(\"session\");\n      localStorage.setItem(\"session\", payload[\"session_id\"]);\n      return {\n        ...state,\n      };\n    case SESSION_FAIL:\n      return {\n        ...state,\n      };\n    case MESSAGE_SUCCESS:\n      messages = [...messages, { message: payload, type: \"bot\" }];\n      return {\n        ...state,\n        messages,\n      };\n    case MESSAGE_FAIL:\n      return {\n        ...state,\n      };\n    default:\n      return {\n        ...state,\n      };\n  }\n};\n",{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","replacedBy":"85"},{"ruleId":"86","severity":1,"message":"87","line":15,"column":7,"nodeType":"88","messageId":"89","endLine":15,"endColumn":9},{"ruleId":"90","severity":1,"message":"91","line":63,"column":17,"nodeType":"92","messageId":"93","endLine":63,"endColumn":88,"fix":"94"},{"ruleId":"86","severity":1,"message":"95","line":34,"column":7,"nodeType":"88","messageId":"89","endLine":34,"endColumn":20},{"ruleId":"86","severity":1,"message":"96","line":80,"column":7,"nodeType":"88","messageId":"89","endLine":80,"endColumn":18},{"ruleId":"86","severity":1,"message":"97","line":110,"column":7,"nodeType":"88","messageId":"89","endLine":110,"endColumn":12},{"ruleId":"98","severity":1,"message":"99","line":127,"column":14,"nodeType":"100","endLine":127,"endColumn":24},{"ruleId":"86","severity":1,"message":"101","line":135,"column":7,"nodeType":"88","messageId":"89","endLine":135,"endColumn":14},{"ruleId":"86","severity":1,"message":"102","line":2,"column":10,"nodeType":"88","messageId":"89","endLine":2,"endColumn":16},{"ruleId":"86","severity":1,"message":"103","line":8,"column":3,"nodeType":"88","messageId":"89","endLine":8,"endColumn":13},{"ruleId":"86","severity":1,"message":"104","line":9,"column":3,"nodeType":"88","messageId":"89","endLine":9,"endColumn":9},{"ruleId":"86","severity":1,"message":"105","line":21,"column":7,"nodeType":"88","messageId":"89","endLine":21,"endColumn":18},{"ruleId":"98","severity":1,"message":"106","line":44,"column":14,"nodeType":"107","endLine":44,"endColumn":20},{"ruleId":"98","severity":1,"message":"108","line":45,"column":23,"nodeType":"107","endLine":45,"endColumn":45},{"ruleId":"109","severity":1,"message":"110","line":15,"column":1,"nodeType":"111","endLine":55,"endColumn":3},"no-native-reassign",["112"],"no-negated-in-lhs",["113"],"no-unused-vars","'id' is assigned a value but never used.","Identifier","unusedVar","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" (which implies rel=\"noopener\") is a security risk in older browsers: see https://mathiasbynens.github.io/rel-noopener/#recommendations","JSXOpeningElement","noTargetBlankWithoutNoreferrer",{"range":"114","text":"115"},"'createAccount' is assigned a value but never used.","'accountInfo' is assigned a value but never used.","'email' is assigned a value but never used.","react-hooks/exhaustive-deps","Assignments to the 'time' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","NewExpression","'seconds' is assigned a value but never used.","'Button' is defined but never used.","'collection' is defined but never used.","'addDoc' is defined but never used.","'lastMessage' is assigned a value but never used.","Assignments to the 'id' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","MemberExpression","Assignments to the 'chatHistory' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation",[2185,2185]," rel=\"noreferrer\""]