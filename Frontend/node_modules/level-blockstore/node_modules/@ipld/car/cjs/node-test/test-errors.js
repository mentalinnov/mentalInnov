'use strict';

var reader = require('../lib/reader.js');
var common = require('./common.js');

describe('Misc errors', () => {
  const buf = common.carBytes.slice();
  it('decode errors', async () => {
    const buf2 = new Uint8Array(buf.length);
    buf2.set(buf, 0);
    buf2[101] = 0;
    await common.assert.isRejected(reader.CarReader.fromBytes(buf2), {
      name: 'Error',
      message: 'Unexpected CID version (0)'
    });
  });
});
